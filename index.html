<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>рд░рдордЬрд╝рд╛рди рдЯрд╛рдЗрдо рдЯреЗрдмрд▓ 2026 | рд╕рд╣рд░реА рдФрд░ рдЗрдлрд╝реНрддрд╛рд░</title>
<meta name="description" content="рд░рдордЬрд╝рд╛рди 2026 / 1447 рд╣рд┐рдЬрд░реА рдХрд╛ рдкреВрд░рд╛ 30 рджрд┐рди рдХрд╛ рдЯрд╛рдЗрдо рдЯреЗрдмрд▓ тАФ рд╕рд╣рд░реА рдФрд░ рдЗрдлрд╝реНрддрд╛рд░ рдХреЗ рд╕рдордп рдХреЗ рд╕рд╛рде рд▓рд╛рдЗрд╡ рдХрд╛рдЙрдВрдЯрдбрд╛рдЙрди" />
<meta name="theme-color" content="#0F5132" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
<meta name="apple-mobile-web-app-title" content="рд░рдордЬрд╝рд╛рди 2026" />
<link rel="apple-touch-icon" href="/plain/pwa-192x192.png" />
<link rel="icon" type="image/png" href="/plain/favicon.png" />
<link rel="manifest" href="manifest.json" />
<link rel="stylesheet" href="style.css" />
</head>
<body>

<header class="glass">
  <div class="header-row">
    <div style="display:flex;align-items:center;gap:8px;">
      <span>ЁЯМЩ</span>
      <h1 class="text-gradient" style="font-size:1rem;font-weight:800;">рд░рдордЬрд╝рд╛рди 2026</h1>
    </div>
    <div class="share-actions">
      <button class="share-btn wa" onclick="shareOnWhatsApp()">ЁЯУ▓ WhatsApp</button>
      <button class="share-btn" onclick="shareNative()">ЁЯФЧ рд╢реЗрдпрд░</button>
    </div>
  </div>
</header>

<main>
  <div id="hero-card"></div>
  <h3 class="section-title text-gradient">рдпреЗ рдЯрд╛рдЗрдо рдЯреЗрдмрд▓ рдорд┐рд░рдЬ рд╢рд╣рд░ рдХреЗ рд▓рд┐рдП рд╣реИ</h3>
  <div class="table-wrap glass">
    <table>
      <thead><tr><th>рдЙрд░реНрджреВ</th><th>рдЕрдВрдЧреНрд░реЗрдЬреА</th><th>рджрд┐рди</th><th>рд╕рд╣рд░реА</th><th>рдЗрдлрд╝реНрддрд╛рд░</th></tr></thead>
      <tbody id="roza-tbody"></tbody>
    </table>
  </div>
</main>

<footer>рд░рдордЬрд╝рд╛рди рдореБрдмрд╛рд░рдХ ЁЯМЩ</footer>

<nav class="bottom-nav glass">
  <div class="inner">
    <a href="index.html" class="nav-link active"><span class="nav-icon">ЁЯПа</span><span>рдЯрд╛рдЗрдо рдЯреЗрдмрд▓</span></a>
    <a href="dua.html" class="nav-link"><span class="nav-icon">ЁЯУЦ</span><span>рджреБрдЖ</span></a>
    <a href="surah.html" class="nav-link"><span class="nav-icon">ЁЯУХ</span><span>рд╕реВрд░рд╣</span></a>
    <a href="tasbih.html" class="nav-link"><span class="nav-icon">#</span><span>рддрд╕реНрдмреАрд╣</span></a>
    <a href="about.html" class="nav-link"><span class="nav-icon">тД╣я╕П</span><span>рд╣рдорд╛рд░реЗ рдмрд╛рд░реЗ рдореЗрдВ</span></a>
  </div>
</nav>

<script src="data.js"></script>
<script>
function renderTable() {
  const tbody = document.getElementById("roza-tbody");
  const now = new Date(); now.setHours(0,0,0,0);
  const todayIdx = getTodayIndex();
  let html = "";
  ramadanData.forEach((r, i) => {
    const rd = parseDate(r.englishDate); rd.setHours(0,0,0,0);
    const isToday = i === todayIdx;
    const isPast = rd < now;
    let cls = isPast ? "past" : (i%2===0 ? "odd" : "even");
    if (isToday) cls = "today";
    html += `<tr class="${cls}" ${isToday ? 'id="today-row"' : ""}>
      <td>${r.rozaNumber}${isToday ? '<span class="today-badge">рдЖрдЬ</span>' : ""}</td>
      <td>${r.englishDate.split("-")[0]}</td>
      <td>${r.day}</td>
      <td>${r.sehriTime}</td>
      <td>${r.iftarTime}</td>
    </tr>`;
  });
  tbody.innerHTML = html;
  const todayRow = document.getElementById("today-row");
  if (todayRow) setTimeout(() => todayRow.scrollIntoView({behavior:"smooth",block:"center"}), 300);
}

function renderHero() {
  const el = document.getElementById("hero-card");
  const idx = getTodayIndex();
  if (idx === -1) {
    el.innerHTML = '<div class="pre-ramadan glass-hero" id="pre-hero"></div>';
    return;
  }
  const r = ramadanData[idx];
  const todayStr = new Date().toLocaleDateString("hi-IN");
  el.innerHTML = `
    <div class="hero-card glass-hero">
      <div style="text-align:center"><span class="badge">рдЖрдЬ рдХрд╛ рд░реЛрдЬрд╝рд╛</span></div>
      <div class="roza-number text-gradient">рд░реЛрдЬрд╝рд╛ рдирдВрдмрд░ ${r.rozaNumber}</div>
      <div class="info-grid">
        <div class="info-item glass"><div><div class="label">рдЙрд░реНрджреВ рддрд╛рд░реАрдЦ</div><div class="value">${r.urduDate}</div></div></div>
        <div class="info-item glass"><div><div class="label">рдЕрдВрдЧреНрд░реЗрдЬреА рддрд╛рд░реАрдЦ</div><div class="value">${r.englishDate}</div></div></div>
        <div class="info-item glass"><div><div class="label">рдЖрдЬ рдХрд╛ рджрд┐рди</div><div class="value">${r.day}</div></div></div>
        <div class="info-item glass"><div><div class="label">рдЖрдЬ рдХреА рддрд╛рд░реАрдЦ</div><div class="value">${todayStr}</div></div></div>
      </div>
      <div class="time-grid">
        <div class="time-card glass"><div>ЁЯМЩ</div><div class="time-label">рд╕рд╣рд░реА</div><div class="time-value">${r.sehriTime}</div></div>
        <div class="time-card glass"><div>тШАя╕П</div><div class="time-label">рдЗрдлрд╝реНрддрд╛рд░</div><div class="time-value">${r.iftarTime}</div></div>
      </div>
      <div class="countdown-box glass">
        <div class="countdown-label sehri">ЁЯМЩ рд╕рд╣рд░реА рдХрд╛рдЙрдВрдЯрдбрд╛рдЙрди</div>
        <div id="sehri-cd"></div>
      </div>
      <div class="countdown-box glass">
        <div class="countdown-label iftar">тШАя╕П рдЗрдлрд╝реНрддрд╛рд░ рдХрд╛рдЙрдВрдЯрдбрд╛рдЙрди</div>
        <div id="iftar-cd"></div>
      </div>
    </div>`;
}

function tickCountdown() {
  const now = new Date();
  const idx = getTodayIndex();
  if (idx === -1) {
    const preEl = document.getElementById("pre-hero");
    if (!preEl) return;
    const first = ramadanData[0];
    const target = timeToDate(first.englishDate, first.sehriTime);
    const diff = target.getTime() - now.getTime();
    if (diff > 0) {
      const ts = Math.floor(diff/1000);
      const days = Math.floor(ts/86400), rem = ts%86400;
      const hrs = Math.floor(rem/3600), mins = Math.floor((rem%3600)/60), secs = rem%60;
      preEl.innerHTML = `<div class="label text-gradient">рд░рдордЬрд╝рд╛рди рд╢реБрд░реВ рд╣реЛрдиреЗ рдореЗрдВ</div>
        <div class="countdown-units">
          <div class="cd-unit glass"><div class="num">${pad(days)}</div><div class="lbl">рджрд┐рди</div></div>
          <div class="cd-unit glass"><div class="num">${pad(hrs)}</div><div class="lbl">рдШрдВрдЯреЗ</div></div>
          <div class="cd-unit glass"><div class="num">${pad(mins)}</div><div class="lbl">рдорд┐рдирдЯ</div></div>
          <div class="cd-unit glass"><div class="num">${pad(secs)}</div><div class="lbl">рд╕реЗрдХрдВрдб</div></div>
        </div>`;
    } else {
      preEl.innerHTML = `<p style="color:var(--muted-fg)">рд░рдордЬрд╝рд╛рди рдХрд╛ рд╕рдордп рдирд╣реАрдВ рд╣реИ</p>`;
      // Show Eid Mubarak + next Ramadan countdown
      const firstDate = parseDate(ramadanData[0].englishDate);
      const nextRamadan = new Date(firstDate.getTime());
      nextRamadan.setFullYear(nextRamadan.getFullYear() + 1);
      const nDiff = nextRamadan.getTime() - now.getTime();
      let eidHtml = `<div style="font-size:2.5rem">ЁЯОЙ</div><div class="roza-number text-gradient">рдИрдж рдореБрдмрд╛рд░рдХ!</div><p style="color:var(--muted-fg);font-size:0.85rem">рдЕрд▓реНрд▓рд╛рд╣ рдЖрдк рдХреЗ рд░реЛрдЬрд╝реЗ рдФрд░ рдЗрдмрд╛рджрд╛рдд рдХрд╝рдмреВрд▓ рдлрд╝рд░рдорд╛рдП</p>`;
      if (nDiff > 0) {
        const nTs = Math.floor(nDiff/1000), nD = Math.floor(nTs/86400), nR = nTs%86400;
        eidHtml += `<div style="margin-top:12px"><div class="label" style="color:var(--primary);font-weight:600;font-size:0.85rem">рдЕрдЧрд▓реЗ рд░рдордЬрд╝рд╛рди рдореЗрдВ</div>
          <div class="countdown-units" style="margin-top:8px">
            <div class="cd-unit glass"><div class="num">${pad(nD)}</div><div class="lbl">рджрд┐рди</div></div>
            <div class="cd-unit glass"><div class="num">${pad(Math.floor(nR/3600))}</div><div class="lbl">рдШрдВрдЯреЗ</div></div>
            <div class="cd-unit glass"><div class="num">${pad(Math.floor((nR%3600)/60))}</div><div class="lbl">рдорд┐рдирдЯ</div></div>
            <div class="cd-unit glass"><div class="num">${pad(nR%60)}</div><div class="lbl">рд╕реЗрдХрдВрдб</div></div>
          </div></div>`;
      }
      preEl.innerHTML = eidHtml;
    }
    return;
  }
  const r = ramadanData[idx];
  const sehri = calcDiff(timeToDate(r.englishDate, r.sehriTime), now);
  const iftar = calcDiff(timeToDate(r.englishDate, r.iftarTime), now);
  const sEl = document.getElementById("sehri-cd");
  const iEl = document.getElementById("iftar-cd");
  if (!sEl || !iEl) return;
  sEl.innerHTML = sehri.passed
    ? '<p class="passed-msg">рд╕рд╣рд░реА рдХрд╛ рд╕рдордп рд╕рдорд╛рдкреНрдд рд╣реЛ рдЪреБрдХрд╛ рд╣реИ</p>'
    : `<div class="countdown-units"><div class="cd-unit glass"><div class="num">${pad(sehri.h)}</div><div class="lbl">рдШрдВрдЯреЗ</div></div><div class="cd-unit glass"><div class="num">${pad(sehri.m)}</div><div class="lbl">рдорд┐рдирдЯ</div></div><div class="cd-unit glass"><div class="num">${pad(sehri.s)}</div><div class="lbl">рд╕реЗрдХрдВрдб</div></div></div>`;
  const iftarMsg = sehri.passed && iftar.passed ? "рдЖрдЬ рдХрд╛ рд░реЛрдЬрд╝рд╛ рдкреВрд░рд╛ рд╣реЛ рдЪреБрдХрд╛ рд╣реИ" : "рдЗрдлрд╝реНрддрд╛рд░ рдХрд╛ рд╕рдордп рд╕рдорд╛рдкреНрдд рд╣реЛ рдЪреБрдХрд╛ рд╣реИ";
  iEl.innerHTML = iftar.passed
    ? `<p class="passed-msg">${iftarMsg}</p>`
    : `<div class="countdown-units"><div class="cd-unit glass"><div class="num">${pad(iftar.h)}</div><div class="lbl">рдШрдВрдЯреЗ</div></div><div class="cd-unit glass"><div class="num">${pad(iftar.m)}</div><div class="lbl">рдорд┐рдирдЯ</div></div><div class="cd-unit glass"><div class="num">${pad(iftar.s)}</div><div class="lbl">рд╕реЗрдХрдВрдб</div></div></div>`;
}

renderTable();
renderHero();
tickCountdown();
setInterval(tickCountdown, 1000);
</script>
<script>
if ("serviceWorker" in navigator) {
  navigator.serviceWorker.register("/plain/sw.js");
}
</script>
</body>
</html>
